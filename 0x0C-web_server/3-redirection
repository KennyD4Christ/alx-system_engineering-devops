#!/usr/bin/env bash
# This script configures Nginx for 301 redirection

# Create a custom Nginx configuration file for redirection
echo "server {
    listen 80;
    server_name _;

    location /redirect_me {
        return 301 http://www.youtube.com/watch?v=QH2-TGUlwu4
    }

    location / {
        root /var/www/html;
	index index.html;
    }
}" | sudo tee /etc/nginx/sites-available/redirect_me

# Enable the new configuration
sudo ln -s /etc/nginx/sites-available/redirect_me /etc/nginx/sites-enabled/

# Remove the default configuration
sudo rm /etc/nginx/sites-enabled/default

# Test Nginx configuration
sudo nginx -t

# Restart Nginx
sudo service nginx restart

# Print a success message
echo "Nginx is configured for 301 redirection from /redirect_me to http://www.youtube.com/watch?v=QH2-TGUlwu4"
